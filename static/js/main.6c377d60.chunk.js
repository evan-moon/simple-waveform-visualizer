(this["webpackJsonpsimple-audio-waveform"]=this["webpackJsonpsimple-audio-waveform"]||[]).push([[0],{35:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),i=n(18),r=n.n(i),a=n(10),u=n(9),s=n.n(u),l=n(12),d=n(2),f=Object(a.b)({key:"audioContext",default:null}),h=Object(a.b)({key:"audioEffects",default:[],dangerouslyAllowMutability:!0});function b(e,t){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(s.a.mark((function e(t,n){var o,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.decodeAudioData(n);case 2:return o=e.sent,(c=t.createBufferSource()).buffer=o,i=t.createGain(),c.connect(i),i.connect(t.destination),c.loop=!0,e.abrupt("return",{context:t,buffer:o,bufferSourceNode:c,masterGain:i});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=n(3),p=function(){var e=Object(o.useRef)(null),t=Object(a.c)(f),n=Object(d.a)(t,2)[1],c=function(){var e=Object(l.a)(s.a.mark((function e(t){var o,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(c=null===(o=t.currentTarget.files)||void 0===o?void 0:o[0])){e.next=3;break}return e.abrupt("return");case 3:(i=new FileReader).onload=function(){var e=Object(l.a)(s.a.mark((function e(t){var o,c,i,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((c=null===(o=t.target)||void 0===o?void 0:o.result)instanceof ArrayBuffer)){e.next=9;break}return i=new AudioContext,e.next=5,b(i,c);case 5:r=e.sent,n(r),e.next=10;break;case 9:n(null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.readAsArrayBuffer(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.c)(m.a,{children:[Object(m.b)("button",{onClick:function(){null!=e.current&&e.current.click()},css:{width:30,height:30,border:"none",cursor:"pointer",transition:"opacity .2s ease-in-out","&:hover":{opacity:.7}},children:"+"}),Object(m.b)("input",{onChange:c,ref:e,type:"file",css:{position:"fixed",display:"none"}})]})},j=function(e){var t=e.label,n=e.min,c=e.max,i=e.defaultValue,r=e.onChange,a=Object(o.useState)(i),u=Object(d.a)(a,2),s=u[0],l=u[1];return Object(o.useEffect)((function(){null===r||void 0===r||r(s)}),[s]),Object(m.c)("div",{css:{display:"inline-flex",flexDirection:"column",alignItems:"center"},children:[Object(m.b)("label",{children:t}),Object(m.b)("input",{type:"range",min:n,max:c,value:s,onChange:function(e){l(Number(e.target.value))},css:{WebkitAppearance:"slider-vertical"},step:n+c/1e3}),Object(m.b)("span",{children:s})]})},x=function(){var e=Object(a.d)(f),t=Object(o.useState)(!1),n=Object(d.a)(t,2),c=n[0],i=n[1];return Object(m.c)("div",{children:[null!=e?Object(m.b)("button",{onClick:function(){c?(null===e||void 0===e||e.bufferSourceNode.stop(),i(!1)):(null===e||void 0===e||e.bufferSourceNode.start(),i(!0))},children:c?"\uc815\uc9c0":"\uc7ac\uc0dd"}):null,Object(m.b)("div",{children:null!=(null===e||void 0===e?void 0:e.masterGain)?Object(m.b)(m.a,{children:Object(m.b)(j,{label:"Master",min:0,max:10,defaultValue:3,onChange:function(t){return e.masterGain.gain.setValueAtTime(t,e.context.currentTime)}})}):null})]})};function N(e){var t=function(e){for(var t=e.buffer,n=t.sampleRate,o=t.length/n,c=Math.floor(o/10)||1,i=t.numberOfChannels,r=[],a=function(e){var i=t.getChannelData(e);Array(n).fill(0).forEach((function(t,n){for(var a=Math.floor(n*o),u=Math.floor(a+o),s=i[0],l=i[0],d=a;d<u;d+=c){var f=i[d];f>l?l=f:f<s&&(s=f)}(0===e||l>r[2*n])&&(r[2*n]=l),(0===e||s<r[2*n+1])&&(r[2*n+1]=s)}))},u=0;u<i;u++)a(u);return r}(e);if(e.buffer){for(var n=t.length,o="",c=0;c<n;c++)o+=c%2===0?" M".concat(Math.floor(c/2),", ").concat(t.shift()):" L".concat(Math.floor(c/2),", ").concat(t.shift());return o}return""}var O=function(e){var t,n=e.color,c=void 0===n?"#000000":n,i=Object(a.c)(f),r=Object(d.a)(i,1)[0],u=Object(o.useRef)(null),s=Object(o.useState)(""),l=Object(d.a)(s,2),h=l[0],b=l[1];return Object(o.useEffect)((function(){if(null!=r&&null!=u){var e=N(r);b(e)}}),[r,u]),Object(m.b)("svg",{ref:u,css:{width:"100%",height:300},viewBox:"0 -1 ".concat(null!==(t=null===r||void 0===r?void 0:r.buffer.sampleRate)&&void 0!==t?t:0," 2"),preserveAspectRatio:"none",children:Object(m.b)("g",{css:{width:"100%",height:"100%"},children:Object(m.b)("path",{d:h,css:{stroke:c}})})})};function g(){return Object(a.c)(f)}var y=n(14);function k(){var e=g(),t=Object(d.a)(e,1)[0],n=Object(a.c)(h),o=Object(d.a)(n,2),c=o[0],i=o[1];return{addEffect:function(e){if(null==t)throw new Error("\uc544\uc9c1 AudioContext\uac00 \ub4f1\ub85d\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4");var n=c.length>0?c[c.length-1].outputNode:t.bufferSourceNode;n.disconnect(),n.connect(e.inputNode),e.outputNode.connect(t.masterGain),i([].concat(Object(y.a)(c),[e]))},removeEffect:function(e){if(null==t)throw new Error("\uc544\uc9c1 AudioContext\uac00 \ub4f1\ub85d\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4");var n=c.findIndex((function(t){return t.id===e}));if(-1===n)throw new Error("\uc774\ud399\ud2b8\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4");var o=0===n?t.bufferSourceNode:c[n-1].outputNode,r=null!=c[n+1]?c[n+1].inputNode:t.masterGain;o.disconnect(),o.connect(r),i((function(t){return t.filter((function(t){return t.id!==e}))}))},changeEffect:function(e,n){if(null==t)throw new Error("\uc544\uc9c1 AudioContext\uac00 \ub4f1\ub85d\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4");var o=c.findIndex((function(t){return t.id===e})),r=c[o],a=0===o?t.bufferSourceNode:c[o-1].outputNode,u=c[o+1]?c[o+1].inputNode:t.masterGain;a.disconnect(),r.outputNode.disconnect(),a.connect(n.inputNode),n.outputNode.connect(u),i((function(e){return e.map((function(e,t){return t===o?n:e}))}))},registedEffects:c}}var w=n(4),C=n(6),T=n(7),V=n(8),F=n(5),A=function(){function e(t,n,o,c){Object(w.a)(this,e),this.id=void 0,this.type=void 0,this.name=void 0,this.context=void 0,this.options=void 0,this.inputNode=void 0,this.outputNode=void 0,this.id="".concat(n,"-").concat(Date.now()),this.type=n,this.context=t,this.options=Object(F.a)(Object(F.a)({},o),c),this.inputNode=this.context.createGain(),this.outputNode=this.context.createGain()}return Object(C.a)(e,[{key:"setGain",value:function(e){this.options.gain=e,this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}}]),e}(),q=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){var c;Object(w.a)(this,n);(c=t.call(this,e,"compressor",{threshold:-24,knee:30,attack:.003,release:.25,ratio:12,gain:1},o)).compressorNode=void 0,c.compressorNode=e.createDynamicsCompressor();var i=c.context.currentTime;return c.compressorNode.threshold.setValueAtTime(c.options.threshold,i),c.compressorNode.knee.setValueAtTime(c.options.knee,i),c.compressorNode.attack.setValueAtTime(c.options.attack,i),c.compressorNode.release.setValueAtTime(c.options.release,i),c.compressorNode.ratio.setValueAtTime(c.options.ratio,i),c.inputNode.connect(c.compressorNode),c.compressorNode.connect(c.outputNode),c}return Object(C.a)(n,[{key:"setThreshold",value:function(e){var t=this.context.currentTime;this.compressorNode.threshold.setValueAtTime(e,t)}},{key:"setKnee",value:function(e){var t=this.context.currentTime;this.compressorNode.knee.setValueAtTime(e,t)}},{key:"setAttack",value:function(e){var t=this.context.currentTime;this.compressorNode.attack.setValueAtTime(e,t)}},{key:"setRelease",value:function(e){var t=this.context.currentTime;this.compressorNode.release.setValueAtTime(e,t)}},{key:"setRatio",value:function(e){var t=this.context.currentTime;this.compressorNode.ratio.setValueAtTime(e,t)}}]),n}(A),G=n(0),E=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[Object(G.jsx)(j,{label:"Gain",min:0,max:1,defaultValue:.3,onChange:function(e){return t.setGain(e)}}),Object(G.jsx)(j,{label:"Threshold",min:-100,max:0,defaultValue:-50,onChange:function(e){return t.setThreshold(e)}}),Object(G.jsx)(j,{label:"Knee",min:0,max:40,defaultValue:30,onChange:function(e){return t.setKnee(e)}}),Object(G.jsx)(j,{label:"Attack",min:0,max:1,defaultValue:.3,onChange:function(e){return t.setAttack(e)}}),Object(G.jsx)(j,{label:"Release",min:0,max:1,defaultValue:.5,onChange:function(e){return t.setRelease(e)}}),Object(G.jsx)(j,{label:"Ratio",min:1,max:20,defaultValue:12,onChange:function(e){return t.setRatio(e)}}),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},R=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){var c;Object(w.a)(this,n);(c=t.call(this,e,"lowpassCombFilter",{frequency:440,delay:.7,resonance:.5,gain:1},o)).filterNode=void 0,c.delayNode=void 0,c.gainNode=void 0;var i=c.options,r=i.frequency,a=i.delay,u=i.resonance;return c.filterNode=c.context.createBiquadFilter(),c.filterNode.type="lowpass",c.filterNode.frequency.setValueAtTime(r,c.context.currentTime),c.delayNode=c.context.createDelay(a),c.gainNode=c.context.createGain(),c.gainNode.gain.setValueAtTime(u,e.currentTime),c.inputNode.connect(c.delayNode).connect(c.filterNode).connect(c.gainNode).connect(c.inputNode).connect(c.outputNode),c}return Object(C.a)(n,[{key:"setFrequency",value:function(e){this.filterNode.frequency.setValueAtTime(e,this.context.currentTime)}},{key:"setDelay",value:function(e){this.delayNode.delayTime.setValueAtTime(e,this.context.currentTime)}},{key:"setResonance",value:function(e){this.options.resonance=e,this.gainNode.gain.setValueAtTime(e,this.context.currentTime)}}]),n}(A),M=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){var c;Object(w.a)(this,n);(c=t.call(this,e,"algorithmReverb",{mix:.5,roomSize:3,dampening:3,gain:1},o)).wetNode=void 0,c.dryNode=void 0,c.splitter=void 0,c.merger=void 0,c.combFilters=void 0,c.allFilters=void 0;var i=e.sampleRate;c.wetNode=c.context.createGain(),c.dryNode=c.context.createGain(),c.splitter=c.context.createChannelSplitter(2),c.merger=c.context.createChannelMerger(2),c.combFilters=[1557,1617,1491,1422,1277,1356,1188,1116].map((function(e){return new R(c.context,{delay:e/i,frequency:c.options.dampening,resonance:.5,gain:1})})),c.allFilters=[225,556,441,341].map((function(e){var t=c.context.createBiquadFilter();return t.type="allpass",t.frequency.setValueAtTime(e,c.context.currentTime),t}));var r=c.combFilters.slice(0,1),a=c.combFilters.slice(7);return c.inputNode.connect(c.wetNode).connect(c.splitter),c.inputNode.connect(c.dryNode).connect(c.outputNode),r.forEach((function(e){c.splitter.connect(e.inputNode,0),e.outputNode.connect(c.merger,0,0)})),a.forEach((function(e){c.splitter.connect(e.inputNode,1),e.outputNode.connect(c.merger,0,1)})),c.merger.connect(c.allFilters[0]).connect(c.allFilters[1]).connect(c.allFilters[2]).connect(c.allFilters[3]).connect(c.outputNode),c}return Object(C.a)(n,[{key:"setMix",value:function(e){this.options.mix=e,this.wetNode.gain.value=e,this.dryNode.gain.value=1-e}},{key:"setRoomSize",value:function(e){this.combFilters.forEach((function(t){return t.setResonance(e)}))}},{key:"setDampening",value:function(e){this.combFilters.forEach((function(t){return t.setFrequency(e)}))}}]),n}(A),S=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[Object(G.jsx)(j,{label:"Gain",min:0,max:1,defaultValue:.3,onChange:function(e){return t.setGain(e)}}),Object(G.jsx)(j,{label:"Mix",min:0,max:1,defaultValue:.5,onChange:function(e){return t.setMix(e)}}),Object(G.jsx)(j,{label:"Room Size",min:0,max:1,defaultValue:.5,onChange:function(e){return t.setRoomSize(e)}}),Object(G.jsx)(j,{label:"Dampening",min:0,max:22e3,defaultValue:440,onChange:function(e){return t.setDampening(e)}}),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},D=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){var c;Object(w.a)(this,n);return(c=t.call(this,e,"convolutionReverb",{mix:.5,time:.01,decay:.01,gain:1},o)).reverbNode=void 0,c.wetNode=void 0,c.dryNode=void 0,c.reverbNode=e.createConvolver(),c.wetNode=e.createGain(),c.dryNode=e.createGain(),c.inputNode.connect(c.reverbNode),c.inputNode.connect(c.dryNode),c.reverbNode.connect(c.wetNode),c.wetNode.connect(c.outputNode),c.dryNode.connect(c.outputNode),c._generateImpulseResponse(),c}return Object(C.a)(n,[{key:"setMix",value:function(e){this.options.mix=e,this.wetNode.gain.value=e,this.dryNode.gain.value=1-e}},{key:"setTime",value:function(e){this.options.time=e,this._generateImpulseResponse()}},{key:"setDecay",value:function(e){this.options.decay=e,this._generateImpulseResponse()}},{key:"_generateImpulseResponse",value:function(){for(var e=this.context.sampleRate,t=e*this.options.time,n=this.context.createBuffer(2,t,e),o=n.getChannelData(0),c=n.getChannelData(1),i=this.options.decay,r=0;r<t;r++)o[r]=(2*Math.random()-1)*Math.pow(1-r/t,i),c[r]=(2*Math.random()-1)*Math.pow(1-r/t,i);this.reverbNode.buffer&&(this.inputNode.disconnect(this.reverbNode),this.reverbNode.disconnect(this.wetNode),this.reverbNode=this.context.createConvolver(),this.inputNode.connect(this.reverbNode),this.reverbNode.connect(this.wetNode)),this.reverbNode.buffer=n}}]),n}(A),B=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[Object(G.jsx)(j,{label:"Gain",min:0,max:1,defaultValue:.3,onChange:function(e){return t.setGain(e)}}),Object(G.jsx)(j,{label:"Mix",min:0,max:1,defaultValue:.5,onChange:function(e){return t.setMix(e)}}),Object(G.jsx)(j,{label:"Reverb Time",min:.01,max:2,defaultValue:.01,onChange:function(e){return t.setTime(e)}}),Object(G.jsx)(j,{label:"Decay",min:.01,max:2,defaultValue:.01,onChange:function(e){return t.setDecay(e)}}),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},I=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[Object(G.jsx)(j,{label:"Gain",min:0,max:1,defaultValue:.3,onChange:function(e){return t.setGain(e)}}),Object(G.jsx)(j,{label:"Mix",min:0,max:1,defaultValue:.5,onChange:function(e){return t.setMix(e)}}),Object(G.jsx)(j,{label:"Delay Time",min:0,max:1,defaultValue:.3,onChange:function(e){return t.setTime(e)}}),Object(G.jsx)(j,{label:"Feedback",min:0,max:1,defaultValue:.5,onChange:function(e){return t.setFeedback(e)}}),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},Q=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[Object(G.jsx)(j,{label:"Gain",min:0,max:1,defaultValue:.3,onChange:function(e){return t.setGain(e)}}),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},_=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){var c;Object(w.a)(this,n);return(c=t.call(this,e,"delay",{mix:.5,feedback:.5,time:.3,gain:1},o)).dryNode=void 0,c.wetNode=void 0,c.feedbackNode=void 0,c.delayNode=void 0,c.dryNode=c.context.createGain(),c.wetNode=c.context.createGain(),c.feedbackNode=c.context.createGain(),c.delayNode=c.context.createDelay(),c.inputNode.connect(c.dryNode),c.dryNode.connect(c.outputNode),c.delayNode.connect(c.feedbackNode),c.feedbackNode.connect(c.delayNode),c.inputNode.connect(c.delayNode),c.delayNode.connect(c.wetNode),c.wetNode.connect(c.outputNode),c.setTime(c.options.time),c.setFeedback(c.options.feedback),c}return Object(C.a)(n,[{key:"setMix",value:function(e){this.options.mix=e,this.wetNode.gain.value=e,this.dryNode.gain.value=1-e}},{key:"setTime",value:function(e){this.options.time=e,this.delayNode.delayTime.setValueAtTime(e,this.context.currentTime)}},{key:"setFeedback",value:function(e){this.options.feedback=e,this.feedbackNode.gain.setValueAtTime(e,this.context.currentTime)}}]),n}(A),z=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){var c;Object(w.a)(this,n);var i={gain:1};return(c=t.call(this,e,"distortion",i,o)).waveShaperNode=void 0,c.waveShaperNode=c.context.createWaveShaper(),c.waveShaperNode.curve=P(i.gain,c.context.sampleRate),c.inputNode.connect(c.waveShaperNode),c.waveShaperNode.connect(c.outputNode),c}return Object(C.a)(n,[{key:"setGain",value:function(e){this.options.gain=e,this.waveShaperNode.curve=P(e,this.context.sampleRate)}}]),n}(A);function P(e,t){for(var n,o=100*e,c=new Float32Array(t),i=Math.PI/100,r=0;r<t;++r)n=2*r/t-1,c[r]=(3+o)*n*20*i/(Math.PI+o*Math.abs(n));return c}var K=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e){var o;return Object(w.a)(this,n),(o=t.call(this,e,"graphicEQ",{gain:1},{gain:1})).frequencies=void 0,o.q=void 0,o.filters=void 0,o.frequencies=[25,31,40,50,63,80,100,125,160,200,250,315,400,500,630,800,1e3,1250,1600,2e3,2500,3150,4e3,5e3,6300,8e3,1e4,12500,16e3,2e4],o.q=1,o.filters=[],o._generateFilter(),o}return Object(C.a)(n,[{key:"getFilters",value:function(){return this.filters}},{key:"setFrequencyGain",value:function(e,t){var n=this.filters.find((function(t){return t.frequency===e}));null===n||void 0===n||n.node.gain.setValueAtTime(t,this.context.currentTime)}},{key:"_generateFilter",value:function(){var e=this,t=this.frequencies;this.filters=t.map((function(n,o){var c=e.context.createBiquadFilter();return c.gain.value=0,c.frequency.setValueAtTime(n,e.context.currentTime),c.Q.setValueAtTime(e.q,e.context.currentTime),0===o?c.type="lowshelf":o===t.length-1?c.type="highshelf":c.type="peaking",{frequency:n,node:c}})),this.filters.reduce((function(e,t){return e.node.connect(t.node),t}),{node:this.inputNode}),this.filters[this.filters.length-1].node.connect(this.outputNode)}}]),n}(A),L=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[t.getFilters().forEach((function(e){return Object(G.jsx)(j,{label:"".concat(e.frequency,"hz"),defaultValue:0,min:-40,max:40,onChange:function(n){return t.setFrequencyGain(e.frequency,n)}})})),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},W=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o,c,i){var r;Object(w.a)(this,n);return(r=t.call(this,e,o,{frequency:350,q:1,gain:1},i)).filterNode=void 0,r.filterNode=e.createBiquadFilter(),r.filterNode.type=c,r.filterNode.frequency.setValueAtTime(r.options.frequency,r.context.currentTime),r.filterNode.Q.setValueAtTime(r.options.q,r.context.currentTime),r.inputNode.connect(r.filterNode),r.filterNode.connect(r.outputNode),r}return Object(C.a)(n,[{key:"setFrequency",value:function(e){this.filterNode.frequency.setValueAtTime(e,this.context.currentTime)}},{key:"setQ",value:function(e){this.filterNode.Q.setValueAtTime(e,this.context.currentTime)}}]),n}(A),J=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){return Object(w.a)(this,n),t.call(this,e,"lowpassFilter","lowpass",o)}return n}(W),H=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){return Object(w.a)(this,n),t.call(this,e,"highpassFilter","highpass",o)}return n}(W),U=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[Object(G.jsx)(j,{label:"Frequency",min:1,max:22050,defaultValue:350,onChange:function(e){return t.setFrequency(e)}}),Object(G.jsx)(j,{label:"Q",min:1e-4,max:10,defaultValue:1e-4,onChange:function(e){return t.setQ(e)}}),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},X=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[Object(G.jsx)(j,{label:"Frequency",min:1,max:22050,defaultValue:350,onChange:function(e){return t.setFrequency(e)}}),Object(G.jsx)(j,{label:"Q",min:1e-4,max:10,defaultValue:1e-4,onChange:function(e){return t.setQ(e)}}),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},Y=function(e){Object(T.a)(n,e);var t=Object(V.a)(n);function n(e,o){var c;Object(w.a)(this,n);return(c=t.call(this,e,"tremolo",{speed:4,depth:1,mix:.8,gain:1},o)).wetNode=void 0,c.dryNode=void 0,c.tremoloNode=void 0,c.shaperNode=void 0,c.lfoNode=void 0,c.wetNode=c.context.createGain(),c.dryNode=c.context.createGain(),c.tremoloNode=c.context.createGain(),c.tremoloNode.gain.value=0,c.shaperNode=c.context.createWaveShaper(),c.shaperNode.curve=new Float32Array([0,1]),c.shaperNode.connect(c.tremoloNode.gain),c.lfoNode=c.context.createOscillator(),c.lfoNode.connect(c.shaperNode),c.lfoNode.type="sine",c.inputNode.connect(c.dryNode),c.dryNode.connect(c.outputNode),c.lfoNode.start(0),c.inputNode.connect(c.tremoloNode),c.tremoloNode.connect(c.wetNode),c.wetNode.connect(c.outputNode),c}return Object(C.a)(n,[{key:"setMix",value:function(e){this.options.mix=e,this.wetNode.gain.value=e,this.dryNode.gain.value=1-e}},{key:"setSpeed",value:function(e){this.options.speed=e,this.lfoNode.frequency.value=e}},{key:"setDepth",value:function(e){this.options.depth=e,this.shaperNode.curve=new Float32Array([1-e,1])}}]),n}(A),Z=function(e){var t=e.effect,n=k().removeEffect;return Object(G.jsxs)("div",{children:[Object(G.jsx)(j,{label:"Gain",min:0,max:1,defaultValue:.3,onChange:function(e){return t.setGain(e)}}),Object(G.jsx)(j,{label:"Mix",min:0,max:1,defaultValue:.5,onChange:function(e){return t.setMix(e)}}),Object(G.jsx)(j,{label:"Speed",min:0,max:20,defaultValue:4,onChange:function(e){return t.setSpeed(e)}}),Object(G.jsx)(j,{label:"Depth",min:0,max:1,defaultValue:1,onChange:function(e){return t.setDepth(e)}}),Object(G.jsx)("button",{onClick:function(){n(t.id)},children:"\uc81c\uac70"})]})},$=["compressor","algorithmReverb","convolutionReverb","delay","distortion","lowpassFilter","highpassFilter","graphicEQ","tremolo"],ee=function(e){var t=e.onChange;return Object(G.jsx)("select",{onChange:function(e){null===t||void 0===t||t(e.target.value)},children:$.map((function(e){return Object(G.jsx)("option",{children:e},e)}))})},te=function(e){return e instanceof q?Object(m.b)(E,{effect:e}):e instanceof M?Object(m.b)(S,{effect:e}):e instanceof D?Object(m.b)(B,{effect:e}):e instanceof _?Object(m.b)(I,{effect:e}):e instanceof z?Object(m.b)(Q,{effect:e}):e instanceof K?Object(m.b)(L,{effect:e}):e instanceof H?Object(m.b)(U,{effect:e}):e instanceof J?Object(m.b)(X,{effect:e}):e instanceof Y?Object(m.b)(Z,{effect:e}):null},ne=function(){var e=g(),t=Object(d.a)(e,1)[0],n=k(),c=n.registedEffects,i=n.addEffect,r=Object(o.useState)("compressor"),a=Object(d.a)(r,2),u=a[0],s=a[1];return Object(m.c)("div",{children:[Object(m.b)("ul",{css:{display:"flex",margin:0,padding:0},children:c.map((function(e){return Object(m.b)("li",{children:te(e)},e.id)}))}),Object(m.c)("div",{children:[Object(m.b)(ee,{onChange:s}),Object(m.b)("button",{onClick:function(){if(null!=(null===t||void 0===t?void 0:t.context)&&null!=u)switch(u){case"compressor":i(new q(t.context));break;case"algorithmReverb":i(new M(t.context));break;case"convolutionReverb":i(new D(t.context));break;case"delay":i(new _(t.context));break;case"distortion":i(new z(t.context));break;case"graphicEQ":i(new K(t.context));break;case"highpassFilter":i(new H(t.context));break;case"lowpassFilter":i(new J(t.context));break;case"tremolo":i(new Y(t.context))}},children:"\uc774\ud399\ud130 \ucd94\uac00"})]})]})};var oe=function(){return Object(G.jsxs)(a.a,{children:[Object(G.jsx)(p,{}),Object(G.jsx)(O,{}),Object(G.jsx)(x,{}),Object(G.jsx)(ne,{})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),o(e),c(e),i(e),r(e)}))};r.a.render(Object(G.jsx)(c.a.StrictMode,{children:Object(G.jsx)(oe,{})}),document.getElementById("root")),ce()}},[[35,1,2]]]);
//# sourceMappingURL=main.6c377d60.chunk.js.map